{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'assets/modules/datatables/datatables.min.css' %}">
<link rel="stylesheet"
  href="{% static 'assets/modules/datatables/DataTables-1.10.16/css/dataTables.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/modules/datatables/Select-1.2.4/css/select.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/components.css' %}">
<style>
  .table td,
  .table th {
    white-space: nowrap !important;
    width: 1% !important;
  }
</style>
{% endblock css %}
{% block title %} Ayede 330 Hourly Reading {% endblock title %}
{% block content %}


<div class="section-header">
  <h1>Hourly Reading</h1>

  <div class="section-header-button ml-auto">
    <a href="{% url 'ayede330hourlyreadings:create' %}" class="btn btn-primary">Add New</a>
  </div>
</div>
<div class="section-body">
  <h2 class="section-title">Hourly Reading</h2>
  <p class="section-lead">
    You can manage all hourly readings, such as editing, deleting and more.
  </p>

  <div class="row">
    <div class="card">
      <div class="card-header">
        <h4>
          {% if last_reading_sheet.created_at.day == now.day and last_reading_sheet.created_at.month == now.month and last_reading_sheet.created_at.year == now.year %}
          Today
          {% elif last_reading_sheet.created_at.day == now.day|add:"-1" and last_reading_sheet.created_at.month == now.month and last_reading_sheet.created_at.year == now.year %}
          Yesterday
          {% else %} {{last_reading_sheet}}
          {% endif %}
        </h4>
        <div class="card-header-action">
        <form action="{% url 'ayede330hourlyreadings:upload_multiple' %}" method="POST">
          {% csrf_token %}
          <div class="input-group">
            <select name="command" class="custom-select" id="inputGroupSelect04">
              <option selected>Choose...</option>
              <option value="1">Upload</option>
              <option value="3">Delete Selected</option>
            </select>
            <div class="input-group-append">
              <button type="submit" class="btn btn-primary" style="border-radius:0 !important;"><i class="fas fa-search"></i></button>
            </div>
          </div>
        <div>
        </div>
          
        </div>
       
      </div>
      <div class="card-body p-0">
        <thead>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-sm" id="sortable-table">
              <thead>
                <tr>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="w-full"></th>
                  <th></th>
                  <th></th>
                  <th>330KV SYSTEM</th>
                  <th></th>
                  <th>4 X 150MVA TRANFORMERS</th>
                  <th></th>
                  <th></th>
                  <th>TOTAL LOAD</th>
                  <th>132KV LINES</th>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th></th>
                </tr>
              </thead>
              <thead>
                <tr>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="w-full"></th>
                  <th></th>
                  <th>Time</th>
                  <th>OSOGBO (H2A)</th>
                  <th class="bg-dark text-white">OLORUNSOGO (R2A)</th>
                  <th>T1A 150MVA</th>
                  <th class="bg-dark text-white">T2A 150MVA</th>
                  <th>T2B 150MVA</th>
                  <th class="bg-dark text-white">T1A + T2A + T1B + T2B</th>
                  <th>SAGAMU (132KV)</th>
                  <th class="bg-dark text-white">JERICHO (132KV)</th>
                  <th>IBN/IWO/ISEYIN (132KV)</th>
                  <th></th>
                  <th></th>
                </tr>
              </thead>
              <thead>
                <tr>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="w-full">Date</th>
                  <th>Frequency</th>
                  <th>Hour</th>
                  <th>KV | A | MW | MVAR</th>
                  <th class="bg-dark text-white">KV | A | MW | MVAR</th>
                  <th>KV | A | MW | MVAR</th>
                  <th class="bg-dark text-white">KV | A | MW | MVAR</th>
                  <th>KV | A | MW | MVAR</th>
                  <th class="bg-dark text-white">A | MW</th>
                  <th>KV | A | MW | MVAR</th>
                  <th class="bg-dark text-white">KV | A | MW | MVAR</th>


                  <th>KV | A | MW | MVAR</th>
                  <th></th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="ayede-hourly-reading">
                  {% for hr in hourly_readings %}
                  {% include 'reading/ayede330hourlyreading/partials/ayede330hourlyreading_table.html' with hr=hr %}
                  {% endfor %}
                </form>
              </tbody>
            </table>
          </div>
      </div>
      <nav class="m-1" aria-label="...">
        {% if hourly_readings.has_other_pages %}
        <ul class="pagination">
            {% if hourly_readings.has_previous %}
            <li class="page-item"><a class="page-link" href="?page={{ hourly_readings.previous_page_number }}">Previous</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            {% endif %} 
            {% for i in hourly_readings.paginator.page_range %}
            {% if hourly_readings.number == i %}
            <li class="page-item active"><a class="page-link" href="#">{{ i }}</a></li>
            {% endif %}
            {% endfor %}
            {% if hourly_readings.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ hourly_readings.next_page_number|add:"1" }}">{{ hourly_readings.next_page_number|add:"1" }}</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ hourly_readings.next_page_number }}">Next</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
            {% endif %}
        </ul>
        {% endif %}
      </nav>

    </div>
  </div>
</div>

{% block js %}
<script src="{% static 'assets/modules/tooltip.js' %}"></script>
<script src="{% static 'assets/modules/datatables/datatables.min.js' %}"></script>
<script src="{% static 'assets/modules/datatables/DataTables-1.10.16/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'assets/modules/datatables/Select-1.2.4/js/dataTables.select.min.js' %}"></script>
<script src="{% static 'assets/modules/jquery-ui/jquery-ui.min.js' %}"></script>
<script src="{% static 'assets/js/page/modules-datatables.js' %}"></script>
<script src="{% static 'assets/js/page/components-table.js' %}"></script>
{% endblock js %}
{% endblock content %}